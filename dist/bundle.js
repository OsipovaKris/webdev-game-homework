(()=>{const e=document.querySelector(".game-box"),t=document.querySelector(".game-card-box"),n=document.querySelector(".game-popup-box"),c=document.getElementById("game-popup-btn"),l=document.querySelectorAll("input"),o=document.getElementById("restart-btn"),a={};function d(){const e=(n=3*a.level,35,[...new Array(n)].map((()=>Math.round(35*Math.random()))));var n;const c=e.concat(e).sort((()=>Math.random()-.5));let l=[];for(let e=0;e<6*a.level;e++)l.push(`<div data-id=${c[e]} class='game-card' style='background-image: url("../img/${c[e]}.svg");'></div>`);t.innerHTML=l.join(""),setTimeout(r,2e3)}function r(){const e=document.querySelectorAll(".game-card");for(let t=0;t<e.length;t++)e[t].style.backgroundImage='url("../img/card.svg")';u()}function u(){const e=document.querySelectorAll(".game-card");let t=[];for(let n=0;n<e.length;n++)e[n].addEventListener("click",(function(){t.length<2&&(t.push(e[n].dataset.id),e[n].style.backgroundImage=`url("../img/${e[n].dataset.id}.svg")`,2===t.length&&t[0]===t[1]&&(a.card.push(e[n].dataset.id),u()),2===t.length&&t[0]!==t[1]&&setTimeout(i,1e3,0))}));a.card.length===3*a.level&&setTimeout(i,1e3,1)}function i(t){1===t&&(e.innerHTML="Вы выиграли"),0===t&&(e.innerHTML="Вы проиграли :(")}c.addEventListener("click",(function(){for(let t=0;t<l.length;t++)l[t].checked&&(a.level=l[t].value,n.classList.add("hidden"),e.classList.remove("hidden"),d())})),o.addEventListener("click",(function(){d()})),a.card=[]})();