(()=>{"use strict";const e=document.querySelector(".game-container");let t={};const n=()=>{e.innerHTML='<div class="popup-box" id="game-popup">\n<p\nclass="game-popup-text">Выбери сложность</p>\n<div class="game-level-box">\n<input type="radio" id="radio1" name="radios" value="1" checked />\n<label for="radio1">1</label>\n<input type="radio" id="radio2" name="radios" value="2" />\n<label for="radio2">2</label>\n<input type="radio" id="radio3" name="radios" value="3" />\n<label for="radio3">3</label>\n</div>\n<button class="game-btn" id="game-popup-btn">Старт</button>\n</div>';const n=document.getElementById("game-popup-btn"),i=document.querySelectorAll("input");n.addEventListener("click",(function(){for(let e=0;e<i.length;e++)i[e].checked&&(t.level=i[e].value,a())}))};function a(){e.innerHTML='<div class="game-box">\n<div class="game-info">\n<div class="game-info-timer">\n<div class="game-time-meta">\n<p>min</p>\n<p>sek</p>\n</div>\n<p class="game-time">00.00</p>\n</div>\n<button class="game-btn" id="restart-btn">Начать заново</button>\n</div>\n<div class="game-card-box"></div>\n</div>';const n=document.querySelector(".game-card-box"),i=(l=3*t.level,35,[...new Array(l)].map((()=>Math.round(35*Math.random()))));var l;const o=i.concat(i).sort((()=>Math.random()-.5));let r=[];for(let e=0;e<6*t.level;e++)r.push(`<div data-id=${o[e]} class='game-card' style='background-image: url("../static/img/${o[e]}.svg");'></div>`);n.innerHTML=r.join(""),t.card=[],setTimeout(c,5e3),document.getElementById("restart-btn").addEventListener("click",(function(){a()}))}n();let i=0,l=0,o=0;function c(){const e=document.querySelectorAll(".game-card");let t=document.querySelector(".game-time");clearInterval(i),l=0;for(let t=0;t<e.length;t++)e[t].style.backgroundImage='url("../static/img/card.svg")';i=setInterval(r,1e3,t),s(t)}function r(e){l++,60===l&&(o++,l=0),e.textContent=`${o.toString().padStart(2,"0")}.${l.toString().padStart(2,"0")}`}function s(e){const n=document.querySelectorAll(".game-card");let a=[];for(let l=0;l<n.length;l++)n[l].addEventListener("click",(function(){a.length<2&&(a.push(n[l].dataset.id),n[l].style.backgroundImage=`url("../static/img/${n[l].dataset.id}.svg")`,2===a.length&&a[0]===a[1]&&(t.card.push(n[l].dataset.id),s(e)),2===a.length&&a[0]!==a[1]&&(clearInterval(i),t.timer=e.textContent,setTimeout(d,1e3,0)))}));t.card.length===3*t.level&&(clearInterval(i),t.timer=e.textContent,setTimeout(d,1e3,1))}function d(a){document.querySelector(".game-box").classList.add("non-pointer"),e.innerHTML=e.innerHTML+`<div class="popup-box" id="result-popup" \n      style="top: calc(50% - 460px / 2);\n      left: calc(50% - 480px / 2);\n      z-index: 1;">\n${1===a?'<img class="icon" src="../static/img/res1.svg" alt=""/><p class="game-popup-text" id="text-result">Вы выиграли!</p>':'<img class="icon" src="../static/img/res0.svg" alt=""/><p class="game-popup-text" id="text-result">Вы проиграли!</p>'}\n<p class="text">Затраченное время:</p>\n<p class="game-time time-text">${t.timer}</p>\n<button class="game-btn" id="restart-game-btn">Играть снова</button>`,document.getElementById("restart-game-btn").addEventListener("click",(function(){t={},n()}))}})();