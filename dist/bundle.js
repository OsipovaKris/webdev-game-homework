(()=>{"use strict";var t=document.querySelector(".game-container"),e={level:0,card:[],time:""},n=function(){t.innerHTML='<div class="popup-box" id="game-popup">\n<p\nclass="game-popup-text">Выбери сложность</p>\n<div class="game-level-box">\n<input type="radio" id="radio1" name="radios" value="1" checked />\n<label for="radio1">1</label>\n<input type="radio" id="radio2" name="radios" value="2" />\n<label for="radio2">2</label>\n<input type="radio" id="radio3" name="radios" value="3" />\n<label for="radio3">3</label>\n</div>\n<button class="game-btn" id="game-popup-btn">Старт</button>\n</div>';var n=document.getElementById("game-popup-btn"),i=document.querySelectorAll("input");n.addEventListener("click",(function(){for(var t=0;t<i.length;t++)i[t].checked&&(e.level=Number(i[t].value),a())}))};function a(){t.innerHTML='<div class="game-box">\n<div class="game-info">\n<div class="game-info-timer">\n<div class="game-time-meta">\n<p>min</p>\n<p>sek</p>\n</div>\n<p class="game-time">00.00</p>\n</div>\n<button class="game-btn" id="restart-btn">Начать заново</button>\n</div>\n<div class="game-card-box"></div>\n</div>';for(var n,i=document.querySelector(".game-card-box"),r=(n=3*e.level,35,function(t,e,n){if(n||2===arguments.length)for(var a,i=0,r=e.length;i<r;i++)!a&&i in e||(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return t.concat(a||Array.prototype.slice.call(e))}([],new Array(n),!0).map((function(){return Math.round(35*Math.random())}))),c=r.concat(r).sort((function(){return Math.random()-.5})),l=[],d=0;d<6*e.level;d++)l.push("<div data-id=".concat(c[d]," class='game-card' style='background-image: url(\"../static/img/").concat(c[d],".svg\");'></div>"));i.innerHTML=l.join(""),e.card=[],setTimeout(o,5e3),document.getElementById("restart-btn").addEventListener("click",(function(){a()}))}n();var i=0,r=0,c=0;function o(){var t=document.querySelectorAll(".game-card"),e=document.querySelector(".game-time");clearInterval(i),r=0;for(var n=0;n<t.length;n++)t[n].style.backgroundImage='url("../static/img/card.svg")';i=setInterval(l,1e3,e),d(e)}function l(t){60==++r&&(c++,r=0),t.textContent="".concat(c.toString().padStart(2,"0"),".").concat(r.toString().padStart(2,"0"))}function d(t){for(var n=document.querySelectorAll(".game-card"),a=[],r=function(n){n.addEventListener("click",(function(){a.length<2&&(a.push(n.dataset.id),n.style.backgroundImage='url("../static/img/'.concat(n.dataset.id,'.svg")'),2===a.length&&a[0]===a[1]&&(e.card.push(String(n.dataset.id)),d(t)),2===a.length&&a[0]!==a[1]&&(clearInterval(i),e.time=String(t.textContent),setTimeout(s,1e3,0)))}))},c=0,o=n;c<o.length;c++)r(o[c]);e.card.length===3*e.level&&(clearInterval(i),e.time=String(t.textContent),setTimeout(s,1e3,1))}function s(a){document.querySelector(".game-box").classList.add("non-pointer"),t.innerHTML+='<div class="popup-box" id="result-popup" \n      style="top: calc(50% - 460px / 2);\n      left: calc(50% - 480px / 2);\n      z-index: 1;">\n'.concat(1===a?'<img class="icon" src="../static/img/res1.svg" alt=""/><p class="game-popup-text" id="text-result">Вы выиграли!</p>':'<img class="icon" src="../static/img/res0.svg" alt=""/><p class="game-popup-text" id="text-result">Вы проиграли!</p>','\n<p class="text">Затраченное время:</p>\n<p class="game-time time-text">').concat(e.time,'</p>\n<button class="game-btn" id="restart-game-btn">Играть снова</button>'),document.getElementById("restart-game-btn").addEventListener("click",(function(){e={level:0,card:[],time:""},n()}))}})();