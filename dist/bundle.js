(()=>{"use strict";const e=document.querySelector(".game-box"),t=document.querySelector(".game-card-box"),n=document.querySelector(".game-popup-box"),c=document.getElementById("game-popup-btn"),a=document.querySelectorAll("input"),l=document.getElementById("restart-btn"),o={};function d(){const e=(n=3*o.level,35,[...new Array(n)].map((()=>Math.round(35*Math.random()))));var n;const c=e.concat(e).sort((()=>Math.random()-.5));let a=[];for(let e=0;e<6*o.level;e++)a.push(`<div data-id=${c[e]} class='game-card' style='background-image: url("../static/img/${c[e]}.svg");'></div>`);t.innerHTML=a.join(""),setTimeout(r,2e3)}function r(){const e=document.querySelectorAll(".game-card");for(let t=0;t<e.length;t++)e[t].style.backgroundImage='url("../static/img/card.svg")';i()}function i(){const e=document.querySelectorAll(".game-card");let t=[];for(let n=0;n<e.length;n++)e[n].addEventListener("click",(function(){t.length<2&&(t.push(e[n].dataset.id),e[n].style.backgroundImage=`url("../static/img/${e[n].dataset.id}.svg")`,2===t.length&&t[0]===t[1]&&(o.card.push(e[n].dataset.id),i()),2===t.length&&t[0]!==t[1]&&setTimeout(u,1e3,0))}));o.card.length===3*o.level&&setTimeout(u,1e3,1)}function u(t){1===t&&(e.innerHTML="Вы выиграли"),0===t&&(e.innerHTML="Вы проиграли :(")}c.addEventListener("click",(function(){for(let t=0;t<a.length;t++)a[t].checked&&(o.level=a[t].value,n.classList.add("hidden"),e.classList.remove("hidden"),d())})),l.addEventListener("click",(function(){d()})),o.card=[]})();